<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Flappy Bird for Nishanvi ðŸ’–</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
    margin: 0;
    overflow: hidden;
    background: linear-gradient(#70c5ce, #ffffff);
    font-family: Arial, sans-serif;
}

#game {
    position: relative;
    width: 100vw;
    height: 100vh;
}

#bird {
    position: absolute;
    width: 50px;
    height: 50px;
    left: 20%;
    top: 40%;
    background-image: url("https://i.ibb.co/PGDr30Zg/nishanviii.jpg");
    background-size: cover;
    border-radius: 50%;
}

.pipe {
    position: absolute;
    width: 60px;
    background: #4CAF50;
}

#score {
    position: absolute;
    top: 20px;
    width: 100%;
    text-align: center;
    font-size: 32px;
    font-weight: bold;
    color: #fff;
    text-shadow: 2px 2px 0 #000;
}

#title {
    position: absolute;
    top: 80px;
    width: 100%;
    text-align: center;
    font-size: 22px;
    color: #ff4d6d;
    font-weight: bold;
}

#hint {
    position: absolute;
    bottom: 40px;
    width: 100%;
    text-align: center;
    color: #333;
}
</style>
</head>

<body>
<div id="game">
    <div id="score">0</div>
    <div id="title">Flappy Bird for Nishanvi ðŸ’–</div>
    <div id="bird"></div>
    <div id="hint">Click / Tap / Space to Fly</div>
</div>

<script>
const bird = document.getElementById("bird");
const game = document.getElementById("game");
const scoreEl = document.getElementById("score");

let birdTop = 40;
let gravity = 0.6;
let velocity = 0;
let score = 0;
let pipes = [];
let gameOver = false;

function jump() {
    if (gameOver) location.reload();
    velocity = -10;
}

document.addEventListener("click", jump);
document.addEventListener("keydown", e => {
    if (e.code === "Space") jump();
});

function createPipe() {
    const gap = 160;
    const topHeight = Math.random() * 250 + 50;

    const topPipe = document.createElement("div");
    topPipe.className = "pipe";
    topPipe.style.height = topHeight + "px";
    topPipe.style.top = "0";
    topPipe.style.left = "100%";

    const bottomPipe = document.createElement("div");
    bottomPipe.className = "pipe";
    bottomPipe.style.height = (window.innerHeight - topHeight - gap) + "px";
    bottomPipe.style.bottom = "0";
    bottomPipe.style.left = "100%";

    game.appendChild(topPipe);
    game.appendChild(bottomPipe);

    pipes.push({ topPipe, bottomPipe, passed: false });
}

setInterval(createPipe, 2200);

function gameLoop() {
    if (gameOver) return;

    velocity += gravity;
    birdTop += velocity;
    bird.style.top = birdTop + "%";

    if (birdTop < 0 || birdTop > 90) endGame();

    pipes.forEach(pipe => {
        const left = parseFloat(pipe.topPipe.style.left);
        pipe.topPipe.style.left = left - 0.5 + "%";
        pipe.bottomPipe.style.left = left - 0.5 + "%";

        const birdRect = bird.getBoundingClientRect();
        const topRect = pipe.topPipe.getBoundingClientRect();
        const bottomRect = pipe.bottomPipe.getBoundingClientRect();

        if (
            birdRect.right > topRect.left &&
            birdRect.left < topRect.right &&
            (birdRect.top < topRect.bottom || birdRect.bottom > bottomRect.top)
        ) {
            endGame();
        }

        if (!pipe.passed && birdRect.left > topRect.right) {
            pipe.passed = true;
            score++;
            scoreEl.innerText = score;
        }
    });

    requestAnimationFrame(gameLoop);
}

function endGame() {
    gameOver = true;
    scoreEl.innerText = "Score: " + score + " ðŸ’”";
}

gameLoop();
</script>
</body>
</html>
